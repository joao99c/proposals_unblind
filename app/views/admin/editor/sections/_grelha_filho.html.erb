<div id="<%= dom_id(deal_section) %>" class="editor--page-section-preview h-full">
  <div id="<%= dom_id(Section.find(5)) %>" class="hidden"></div>

  <% if deal_section.background_image.attached? %>
    <% style = "background: linear-gradient(0deg, #{deal_section&.theme&.dig("colors", "overlay")}70, #{deal_section&.theme&.dig("colors", "overlay")}70), url(#{url_for(deal_section.background_image)}) no-repeat center center; background-size: cover;" %>
  <% else %>
    <% style = "background-color: #{deal_section.parent&.theme&.dig("colors", "background_items")};" %>
  <% end %>

  <% if deal_section.parent.section.is_grelha? %>
    <div class="text-white p-12 text-center border rounded-lg" style="<%= style %>color: <%= deal_section.text_color %>;
      border-color: <%= deal_section.parent&.theme&.dig("colors","border_items") %>;
      border-width: <%= deal_section.parent&.theme&.dig("border", "width") %>">
      <div class="space-y-5">
        <div class="space-y-4">
          <% if deal_section.logo.attached? %>
            <%= image_tag(deal_section.logo, class: "w-36 h-36 mx-auto img-#{deal_section&.parent&.theme&.dig('image', 'format')}") %>
          <% end %>
          <div class="space-y-1">
            <h1 class="text-2xl leading-tight font-bold text-gray-900" style="color: <%= deal_section&.parent&.theme&.dig("colors", "items_title") %>"><%= deal_section.heading %></h1>
            <h2 class="font-medium text-gray-500" style="color: <%= deal_section&.parent&.theme&.dig("colors", "items_description") %>"><%= deal_section.text %></h2>
          </div>
        </div>
        <% if deal_section.button_valid %>
          <a href="<%= deal_section.button&.dig "url" %>" target="_blank" style="color:<%= deal_section&.parent&.theme&.dig("colors", "links") %>">
            <%= deal_section.button&.dig "text" %>
          </a>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="text-white text-center h-full" style="<%= style %>;
      border-color: <%= deal_section.parent&.theme&.dig("colors","border_images") %>;
      border-width: <%= deal_section.parent&.theme&.dig("border", "width") %>">
      <% if deal_section.logo.attached? %>
        <div class="w-full h-full min-h-[300px] mx-auto" style="<%= "background: url(#{url_for(deal_section.logo)}) no-repeat center center; background-size: cover;" %>">
          <div class="flex justify-center items-end h-full">
          <h2 class="font-medium text-black bg-gray-50 mb-4 p-1 py-0.5" style="background-color: <%= deal_section.parent&.theme&.dig("colors","border_images") %>"><%= deal_section.text %></h2>
          </div>
        </div>
      <% end %>

    </div>
  <% end %>
</div>

